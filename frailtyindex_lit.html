<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Frailty Index – talks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-3e3de7b6b729b226fc3f040aa566cf19.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">talks</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#frailty" id="toc-frailty" class="nav-link active" data-scroll-target="#frailty">Frailty</a></li>
  <li><a href="#frailty-scores" id="toc-frailty-scores" class="nav-link" data-scroll-target="#frailty-scores">Frailty Scores</a>
  <ul class="collapse">
  <li><a href="#efrailty-index" id="toc-efrailty-index" class="nav-link" data-scroll-target="#efrailty-index">eFrailty Index</a></li>
  <li><a href="#nsqip-modifided-frailty-index" id="toc-nsqip-modifided-frailty-index" class="nav-link" data-scroll-target="#nsqip-modifided-frailty-index">NSQIP Modifided Frailty Index</a></li>
  </ul></li>
  <li><a href="#comprehensive-geriatric-assessment" id="toc-comprehensive-geriatric-assessment" class="nav-link" data-scroll-target="#comprehensive-geriatric-assessment">Comprehensive Geriatric Assessment</a>
  <ul class="collapse">
  <li><a href="#care-survey" id="toc-care-survey" class="nav-link" data-scroll-target="#care-survey">CARE Survey</a></li>
  <li><a href="#sarc-f-screening" id="toc-sarc-f-screening" class="nav-link" data-scroll-target="#sarc-f-screening">SARC-F screening</a></li>
  </ul></li>
  <li><a href="#reporting" id="toc-reporting" class="nav-link" data-scroll-target="#reporting">Reporting</a></li>
  <li><a href="#palliative-care-consultations" id="toc-palliative-care-consultations" class="nav-link" data-scroll-target="#palliative-care-consultations">Palliative Care consultations</a></li>
  <li><a href="#enteral-nutrition-in-cancer-patients" id="toc-enteral-nutrition-in-cancer-patients" class="nav-link" data-scroll-target="#enteral-nutrition-in-cancer-patients">Enteral nutrition in cancer patients</a></li>
  <li><a href="#physiometric-evaluation" id="toc-physiometric-evaluation" class="nav-link" data-scroll-target="#physiometric-evaluation">Physiometric Evaluation</a>
  <ul class="collapse">
  <li><a href="#pulmonary-function-testing." id="toc-pulmonary-function-testing." class="nav-link" data-scroll-target="#pulmonary-function-testing.">Pulmonary function testing.</a></li>
  <li><a href="#hand-grip-strength" id="toc-hand-grip-strength" class="nav-link" data-scroll-target="#hand-grip-strength">Hand Grip Strength</a></li>
  <li><a href="#minute-walk-test" id="toc-minute-walk-test" class="nav-link" data-scroll-target="#minute-walk-test">6 minute walk test</a>
  <ul class="collapse">
  <li><a href="#short-physical-performance-battery" id="toc-short-physical-performance-battery" class="nav-link" data-scroll-target="#short-physical-performance-battery">Short Physical Performance Battery</a></li>
  </ul></li>
  <li><a href="#stair-climbing" id="toc-stair-climbing" class="nav-link" data-scroll-target="#stair-climbing">Stair-climbing</a></li>
  <li><a href="#timed-up-and-go" id="toc-timed-up-and-go" class="nav-link" data-scroll-target="#timed-up-and-go">Timed up and go</a></li>
  </ul></li>
  <li><a href="#sarcopenia-and-lung-cancer" id="toc-sarcopenia-and-lung-cancer" class="nav-link" data-scroll-target="#sarcopenia-and-lung-cancer">Sarcopenia and Lung Cancer</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="frailtyindex_lit.htm"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Frailty Index</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="frailty" class="level1">
<h1>Frailty</h1>
<p>Frailty is “a biological syndrome of decreased reserve and resistance to stressors, resulting from cumulative decline across multiple physiologic systems, and causing vulnerability to adverse outcomes” Fried LP, Tangen CM, Walston J, et al.&nbsp;Frailty in older adults: evidence for a phenotype. J Gerontol A Biol Sci Med Sci 2001;56:M146-56</p>
</section>
<section id="frailty-scores" class="level1">
<h1>Frailty Scores</h1>
<section id="efrailty-index" class="level2">
<h2 class="anchored" data-anchor-id="efrailty-index">eFrailty Index</h2>
<p>EFI_SCORE and EFI_PERCENTILE now available in Translational Data Warehouse <span class="citation" data-cites="rockwood722">(<a href="#ref-rockwood722" role="doc-biblioref">Rockwood and Mitnitski 2007</a>)</span> and <span class="citation" data-cites="clegg353">(<a href="#ref-clegg353" role="doc-biblioref">Clegg et al. 2016</a>)</span></p>
<p>Brief clinical instrument to classify frailty in the elderly Lancet 1999 205 rockwood</p>
<p>Frailty and hematologic malignancies <span class="citation" data-cites="abel515">(<a href="#ref-abel515" role="doc-biblioref">Abel and Klepin 2018</a>)</span></p>
<p>eFI calculated based upon 36 deficits which can be abstracted from the electronic medical record <span class="citation" data-cites="clegg353">(<a href="#ref-clegg353" role="doc-biblioref">Clegg et al. 2016</a>)</span></p>
<p>Frailty among VA patients <span class="citation" data-cites="orkaby1257">(<a href="#ref-orkaby1257" role="doc-biblioref">Orkaby et al. 2019</a>)</span></p>
<p>WFU: eFI using Epic data in Medicare ACO <span class="citation" data-cites="pajewski1771">(<a href="#ref-pajewski1771" role="doc-biblioref">Pajewski et al. 2019</a>)</span></p>
<p>eFI using epic data for preoperative risk stratification in vascular surgery <span class="citation" data-cites="callahan1357">(<a href="#ref-callahan1357" role="doc-biblioref">Callahan et al. 2021</a>)</span></p>
<p>VA-FI Frailty Index <span class="citation" data-cites="dumontier3053">(<a href="#ref-dumontier3053" role="doc-biblioref">DuMontier et al. 2021</a>)</span></p>
<p>Learning Health System and BioInformatics <span class="citation" data-cites="kohne10259">(<a href="#ref-kohne10259" role="doc-biblioref">Kohn et al. 2022</a>)</span></p>
</section>
<section id="nsqip-modifided-frailty-index" class="level2">
<h2 class="anchored" data-anchor-id="nsqip-modifided-frailty-index">NSQIP Modifided Frailty Index</h2>
<p>Paraesophageal hernia repair<span class="citation" data-cites="chimukangara2509">(<a href="#ref-chimukangara2509" role="doc-biblioref">Chimukangara et al. 2017</a>)</span>. Multivariable regression with mFrailty5, age, ASA: mFrailty5 score &gt;=2 was significant predictor of mortality</p>
<p>Esophagectomy <span class="citation" data-cites="hodari1240a">(<a href="#ref-hodari1240a" role="doc-biblioref">Hodari et al. 2013</a>)</span>. Multivariable regression for mortality as an outcome with age, ASA: Only age and mFrailty5 were significant.</p>
<p>mFrailty5 <span class="citation" data-cites="subramaniam17">(<a href="#ref-subramaniam17" role="doc-biblioref">Subramaniam 2012</a>)</span> Mortality, readmission, complications. mFrailty5 associated with mortality in General Surgery patients in multivariable model adjuvsted for ASSA, wound class, age, transfer status, emergency status.</p>
<p>mFrailty5 and Colorectal cancer <span class="citation" data-cites="mcgovern9">(<a href="#ref-mcgovern9" role="doc-biblioref">McGovern et al. 2023</a>)</span> mFrailty5 strongly associated with age. Multivariable analysis with age &lt;65, 65-75, and 75+ and mFI5 (0/1/&gt;2) parsimonious model includes sex, systemic inflammation, and mFailty5</p>
<p>mFrailty5 and Colorectal cancer <span class="citation" data-cites="mcgovern9">(<a href="#ref-mcgovern9" role="doc-biblioref">McGovern et al. 2023</a>)</span> mFrailty5 strongly associated with age. Multivariable analysis with age &lt;65, 65-75, and 75+ and mFI5 (0/1/&gt;2) parsimonious model includes sex, systemic inflammation, and mFailty5 (but not age)</p>
<p>Colorectal cancer over age 65 <span class="citation" data-cites="simon1363">(<a href="#ref-simon1363" role="doc-biblioref">Simon et al. 2020</a>)</span> mFrailty5 correlated with mortality on univariate analysis and also after adjustment</p>
<p>MFI and mortality after hip fracture <span class="citation" data-cites="daddimani30951">(<a href="#ref-daddimani30951" role="doc-biblioref"><strong>daddimani30951?</strong></a>)</span> Mortality at one year association reported for mFrailty5 but not in multivariable. No association between age and mortality at one year.</p>
<p>NLP of unstructured EHR data to identify geriatric syndrome <span class="citation" data-cites="kharrazi1499">(<a href="#ref-kharrazi1499" role="doc-biblioref">Kharrazi et al. 2018</a>)</span></p>
<p>mFrailty5 <span class="citation" data-cites="mosquera272">(<a href="#ref-mosquera272" role="doc-biblioref">Mosquera, Spaniolas, and Fitzgerald 2016</a>)</span></p>
<p>mFrailty5 and Colorectal cancer <span class="citation" data-cites="al-khamis1192">(<a href="#ref-al-khamis1192" role="doc-biblioref">Al-Khamis et al. 2019</a>)</span>]</p>
<p>panayi 393. <span class="citation" data-cites="panayi393">(<a href="#ref-panayi393" role="doc-biblioref"><strong>panayi393?</strong></a>)</span></p>
<p>Velanovich V, Antoine H, Swartz A, Peters D, Rubinfeld I. Accumulating deficits model of frailty and postoperative mortality and morbidity: its application to a national database. J Surg Res. 2013;183(1):104–10. <span class="citation" data-cites="velanovich104">(<a href="#ref-velanovich104" role="doc-biblioref"><strong>velanovich104?</strong></a>)</span></p>
<p>Colorectal cancer over age 65 <span class="citation" data-cites="simon1363">(<a href="#ref-simon1363" role="doc-biblioref">Simon et al. 2020</a>)</span> mFrailty5 correlated with mortality but no multivariate analysis was done to separate age from mFrailty5</p>
<p>Lascano D, Pak JS, Kates M, et al.&nbsp;Validation of a frailty index in patients undergoing curative surgery for urologic malignancy and comparison with other risk stratification tools. Urol Oncol. 2015;33(10):426.e1–12. <span class="citation" data-cites="lascanoe1">(<a href="#ref-lascanoe1" role="doc-biblioref"><strong>lascanoe1?</strong></a>)</span></p>
<p>Frailty is a better predictor than age for outcomes in geriatric patients with rectal cancer undergoing proctectomy. <span class="citation" data-cites="miller504">(<a href="#ref-miller504" role="doc-biblioref">Miller et al. 2020</a>)</span></p>
<p>NSQIP Dat for coletomy CABG PD, pneumonectomy, esophagecgtomy 2002-2017 <span class="citation" data-cites="wane721">(<a href="#ref-wane721" role="doc-biblioref">Wan et al. 2022</a>)</span> compared mFrailty5 with others and concluded it was “ineffective” in predicting 30=day morbidity and mortality</p>
<p>Colorectal Columbia University:mFrailty5 in predicting outcomes. “predictive ability is enhanced when other patietn-specific risk factors are incorporated <span class="citation" data-cites="keller1396">(<a href="#ref-keller1396" role="doc-biblioref">Keller et al. 2020</a>)</span></p>
<p>Traven SA, Reeves RA, Althoff AD, et al.&nbsp;New five-factor modified frailty index predicts morbidity and mortality in geriatric hip fractures. J Orthop Trauma. 2019;33:319–323. 23. <span class="citation" data-cites="traven319">(<a href="#ref-traven319" role="doc-biblioref"><strong>traven319?</strong></a>)</span></p>
<p>Traven SA, Reeves RA, Sekar MG, et al.&nbsp;New 5-factor modified frailty index predicts morbidity and mortality in primary hip and knee arthroplasty. J Arthroplasty. 2019;34:140–144. 24. <span class="citation" data-cites="traven319">(<a href="#ref-traven319" role="doc-biblioref"><strong>traven319?</strong></a>)</span></p>
<p>Weaver DJ, Malik AT, Jain N, et al.&nbsp;The Modified 5-item frailty index: a concise and useful tool for assessing the impact of frailty on postoperative morbidity following elective posterior lumbar fusions. World Neurosurg. 2019;124:e626–e632. <span class="citation" data-cites="weavere626">(<a href="#ref-weavere626" role="doc-biblioref"><strong>weavere626?</strong></a>)</span></p>
</section>
</section>
<section id="comprehensive-geriatric-assessment" class="level1">
<h1>Comprehensive Geriatric Assessment</h1>
<section id="care-survey" class="level2">
<h2 class="anchored" data-anchor-id="care-survey">CARE Survey</h2>
<p>CARE survey is a modified version of the original Cancer and Aging Research Group geriatric assessment, augmented to streamline completion and to aid integration into routine oncologic clinical practice. The CARE survey measures activities of daily living (ADLs), instrumental ADLs (iADLs), the ability to walk 1 block, the number of falls within 6 months, nutrition, comorbid conditions, cognitive complaints, anxiety, depression, social support, social activities, and self-rated Eastern Cooperative Oncology Group performance status. Domain-specific cutoffs were used in accordance with prior literature.21, 23-25 Frailty was reported using the CARE Frailty Index based on the principles of deficit accumulation, as previously published.26, 27 In brief, the CARE Frailty Index includes 44 geriatric assessment variables identified as health deficits from the CARE survey, each of which is scored as 0 (no deficit) or 1 (deficit present) (see Supporting Methods). These values were then combined and divided by the overall number of deficits assessed (range, 0-1) and categorized as robust (0-0.2), prefrail (0.2-0.35), and frail (&gt;0.35).26 In addition, the CARE survey incorporates the Patient-Reported Outcomes Measurement Information System (PROMIS) 10-item global health questionnaire to assess HRQoL, which includes physical and mental health subscales.28, 29</p>
<p>Prognostic scales for cancer: France: <span class="citation" data-cites="canoui-poitrine2236">(<a href="#ref-canoui-poitrine2236" role="doc-biblioref">Canoui-Poitrine et al. 2022</a>)</span> 510 patients with cancer evaluated with multiple prognostic scales including CCI and Elixhauser. Only Cumulative Illness Rating Scale for Geriatics (CIR-G) was predictive of one-year mortality.</p>
</section>
<section id="sarc-f-screening" class="level2">
<h2 class="anchored" data-anchor-id="sarc-f-screening">SARC-F screening</h2>
<p>Ida S, Kaneko R, Murata K. SARC-F for screening of sarcopenia among older adults: a meta-analysis of screening test accuracy. J Am Med Dir Assoc. 2018;19:685-689.</p>
<p>Woo J, Leung J, Morley JE. Validating the SARC-F: a suitable community screening tool for sarcopenia? J Am Med Dir Assoc. 2014;15:630-634.</p>
<p>Malmstrom TK, Morley JE. SARC-F: a simple questionnaire to rapidly diagnose sarcopenia. J Am Med Dir Assoc. 2013;14:531-532.</p>
<p>Malmstrom TK, Miller DK, Simonsick EM, Ferrucci L, Morley JE. SARC-F: a symptom score to predict persons with sarcopenia at risk for poor functional outcomes. J Cachexia Sarcopenia Muscle. 2016;7:28-36.</p>
<p>The SARC-F (strength, assistance with walking, rising from a chair, climbing stairs, and falls) is a surrogate assessment tool, with a total score of ≥4 suggestive of sarcopenia.35 A person may also be considered as “probable sarcopenia” if SARC-F is positive and handgrip strength is low (Asian Working Group for Sarcopenia criteria: &lt;28 kg for men, &lt;18 kg for women).</p>
</section>
</section>
<section id="reporting" class="level1">
<h1>Reporting</h1>
<p>Benchimol EI, Smeeth L, Guttmann A, et al.&nbsp;The REporting of studies Conducted using Observational Routinely-collected health Data (RECORD) statement. PLoS Med. 2015;12(10):e1001885. https://doi.org/10.1371/journal.pmed.1001885 . - DOI - PubMed - PMC</p>
</section>
<section id="palliative-care-consultations" class="level1">
<h1>Palliative Care consultations</h1>
<p>VA System: <span class="citation" data-cites="sullivan1702">(<a href="#ref-sullivan1702" role="doc-biblioref">Sullivan et al. 2019</a>)</span> Lung Cancer - palliative care consultation 31-365 days after dx led to increased survival</p>
</section>
<section id="enteral-nutrition-in-cancer-patients" class="level1">
<h1>Enteral nutrition in cancer patients</h1>
<p>In 347 stage IV gastric cancer patients at high nutrition risk and receiving palliative CT, nutritional support was associated with a survival benefit 39.Qiu M, ZhouYX, Jin Y, Nutrition support can bring survival benefit to high nutrition risk gastric cancer patients who received chemotherapy. Support Care Cancer. 2015: 23; 1933. -9 Esophageal cancer patients RCT enteral therapy vs oral nutrition <span class="citation" data-cites="lyu839516">(<a href="#ref-lyu839516" role="doc-biblioref">Lyu et al. 2022</a>)</span></p>
</section>
<section id="physiometric-evaluation" class="level1">
<h1>Physiometric Evaluation</h1>
<section id="pulmonary-function-testing." class="level2">
<h2 class="anchored" data-anchor-id="pulmonary-function-testing.">Pulmonary function testing.</h2>
<p>Investigators in Kobe, Japan examined functional testing in 104 patients undergoing esophagectomy <span class="citation" data-cites="makiura430">(<a href="#ref-makiura430" role="doc-biblioref">Makiura et al. 2016</a>)</span> , 2016, 2016}. Patients were designated as frail based upon hand-grip strength &lt;26kg and sarcopenia as measured radiographically. Sarcopenia was diagnosed in 29 patients, in whom the rate of pneumonia was 38%, compared with 17% in the remaining patients.</p>
</section>
<section id="hand-grip-strength" class="level2">
<h2 class="anchored" data-anchor-id="hand-grip-strength">Hand Grip Strength</h2>
<p>Kilgour 2013 p 1894 Veni 2018 and Boyas</p>
</section>
<section id="minute-walk-test" class="level2">
<h2 class="anchored" data-anchor-id="minute-walk-test">6 minute walk test</h2>
<p>Gait speed and mortality in older adults <span class="citation" data-cites="studenski50">(<a href="#ref-studenski50" role="doc-biblioref">Studenski et al. 2011</a>)</span></p>
<section id="short-physical-performance-battery" class="level3">
<h3 class="anchored" data-anchor-id="short-physical-performance-battery">Short Physical Performance Battery</h3>
<p>SPPB predicts survival and nursing home admission <span class="citation" data-cites="guralnikM85">(<a href="#ref-guralnikM85" role="doc-biblioref">Guralnik et al. 1994</a>)</span></p>
</section>
</section>
<section id="stair-climbing" class="level2">
<h2 class="anchored" data-anchor-id="stair-climbing">Stair-climbing</h2>
<p>Stair Climbing is strong predictor of perioperative morbidity<span class="citation" data-cites="reddy559">(<a href="#ref-reddy559" role="doc-biblioref"><strong>reddy559?</strong></a>)</span></p>
</section>
<section id="timed-up-and-go" class="level2">
<h2 class="anchored" data-anchor-id="timed-up-and-go">Timed up and go</h2>
<p>?Part of Fried scale? <span class="citation" data-cites="podsiadlo142">(<a href="#ref-podsiadlo142" role="doc-biblioref">Podsiadlo and Richardson 1991</a>)</span></p>
</section>
</section>
<section id="sarcopenia-and-lung-cancer" class="level1">
<h1>Sarcopenia and Lung Cancer</h1>
<p>PNI and lung cancer meta-analysis <span class="citation" data-cites="shaoe31113">(<a href="#ref-shaoe31113" role="doc-biblioref">Shao et al. 2022</a>)</span></p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-abel515" class="csl-entry" role="listitem">
Abel, Gregory A., and Heidi D. Klepin. 2018. <span>“Frailty and the Management of Hematologic Malignancies.”</span> <em>Blood</em> 131 (5): 515–24. <a href="https://doi.org/10.1182/blood-2017-09-746420">https://doi.org/10.1182/blood-2017-09-746420</a>.
</div>
<div id="ref-al-khamis1192" class="csl-entry" role="listitem">
Al-Khamis, A., C. Warner, J. Park, S. Marecik, N. Davis, A. Mellgren, J. Nordenstam, and K. Kochar. 2019. <span>“Modified Frailty Index Predicts Early Outcomes After Colorectal Surgery: An <span>ACS</span>-<span>NSQIP</span> Study.”</span> <em>Colorectal Disease: The Official Journal of the Association of Coloproctology of Great Britain and Ireland</em> 21 (10): 1192–1205. <a href="https://doi.org/10.1111/codi.14725">https://doi.org/10.1111/codi.14725</a>.
</div>
<div id="ref-callahan1357" class="csl-entry" role="listitem">
Callahan, Kathryn E., Clancy J. Clark, Angela F. Edwards, Timothy N. Harwood, Jeff D. Williamson, Adam W. Moses, James J. Willard, et al. 2021. <span>“Automated <span>Frailty</span> <span>Screening</span> <span>At</span>-<span>Scale</span> for <span>Pre</span>-<span>Operative</span> <span>Risk</span> <span>Stratification</span> <span>Using</span> the <span>Electronic</span> <span>Frailty</span> <span>Index</span>.”</span> <em>Journal of the American Geriatrics Society</em> 69 (5): 1357–62. <a href="https://doi.org/10.1111/jgs.17027">https://doi.org/10.1111/jgs.17027</a>.
</div>
<div id="ref-canoui-poitrine2236" class="csl-entry" role="listitem">
Canoui-Poitrine, Florence, Lauriane Segaux, Marc-Antoine Benderra, Frédégonde About, Christophe Tournigand, Marie Laurent, Philippe Caillet, et al. 2022. <span>“The <span>Prognostic</span> <span>Value</span> of <span>Eight</span> <span>Comorbidity</span> <span>Indices</span> in <span>Older</span> <span>Patients</span> with <span>Cancer</span>: <span>The</span> <span>ELCAPA</span> <span>Cohort</span> <span>Study</span>.”</span> <em>Cancers</em> 14 (9): 2236. <a href="https://doi.org/10.3390/cancers14092236">https://doi.org/10.3390/cancers14092236</a>.
</div>
<div id="ref-chimukangara2509" class="csl-entry" role="listitem">
Chimukangara, Munyaradzi, Melissa C. Helm, Matthew J. Frelich, Matthew E. Bosler, Lisa E. Rein, Aniko Szabo, and Jon C. Gould. 2017. <span>“A 5-Item Frailty Index Based on <span>NSQIP</span> Data Correlates with Outcomes Following Paraesophageal Hernia Repair.”</span> <em>Surgical Endoscopy</em> 31 (6): 2509–19. <a href="https://doi.org/10.1007/s00464-016-5253-7">https://doi.org/10.1007/s00464-016-5253-7</a>.
</div>
<div id="ref-clegg353" class="csl-entry" role="listitem">
Clegg, Andrew, Chris Bates, John Young, Ronan Ryan, Linda Nichols, Elizabeth Ann Teale, Mohammed A. Mohammed, John Parry, and Tom Marshall. 2016. <span>“Development and Validation of an Electronic Frailty Index Using Routine Primary Care Electronic Health Record Data.”</span> <em>Age and Ageing</em> 45 (3): 353–60. <a href="https://doi.org/10.1093/ageing/afw039">https://doi.org/10.1093/ageing/afw039</a>.
</div>
<div id="ref-dumontier3053" class="csl-entry" role="listitem">
DuMontier, Clark, Nathanael R. Fillmore, Cenk Yildirim, David Cheng, Jennifer La, Ariela R. Orkaby, Brian Charest, et al. 2021. <span>“Contemporary <span>Analysis</span> of <span>Electronic</span> <span>Frailty</span> <span>Measurement</span> in <span>Older</span> <span>Adults</span> with <span>Multiple</span> <span>Myeloma</span> <span>Treated</span> in the <span>National</span> <span>US</span> <span>Veterans</span> <span>Affairs</span> <span>Healthcare</span> <span>System</span>.”</span> <em>Cancers</em> 13 (12): 3053. <a href="https://doi.org/10.3390/cancers13123053">https://doi.org/10.3390/cancers13123053</a>.
</div>
<div id="ref-guralnikM85" class="csl-entry" role="listitem">
Guralnik, J. M., E. M. Simonsick, L. Ferrucci, R. J. Glynn, L. F. Berkman, D. G. Blazer, P. A. Scherr, and R. B. Wallace. 1994. <span>“A Short Physical Performance Battery Assessing Lower Extremity Function: Association with Self-Reported Disability and Prediction of Mortality and Nursing Home Admission.”</span> <em>Journal of Gerontology</em> 49 (2): M85–94. <a href="https://doi.org/10.1093/geronj/49.2.m85">https://doi.org/10.1093/geronj/49.2.m85</a>.
</div>
<div id="ref-hodari1240a" class="csl-entry" role="listitem">
Hodari, Arielle, Zane T. Hammoud, Jamil F. Borgi, Athanasios Tsiouris, and Ilan S. Rubinfeld. 2013. <span>“Assessment of Morbidity and Mortality After Esophagectomy Using a Modified Frailty Index.”</span> <em>The Annals of Thoracic Surgery</em> 96 (4): 1240–45. <a href="https://doi.org/10.1016/j.athoracsur.2013.05.051">https://doi.org/10.1016/j.athoracsur.2013.05.051</a>.
</div>
<div id="ref-keller1396" class="csl-entry" role="listitem">
Keller, D. S., T. Reif de Paula, R. P. Kiran, and S. K. Nemeth. 2020. <span>“Evaluating the Association of the New <span>National</span> <span>Surgical</span> <span>Quality</span> <span>Improvement</span> <span>Program</span> Modified 5-Factor Frailty Index with Outcomes in Elective Colorectal Surgery.”</span> <em>Colorectal Disease: The Official Journal of the Association of Coloproctology of Great Britain and Ireland</em> 22 (10): 1396–1405. <a href="https://doi.org/10.1111/codi.15066">https://doi.org/10.1111/codi.15066</a>.
</div>
<div id="ref-kharrazi1499" class="csl-entry" role="listitem">
Kharrazi, Hadi, Laura J. Anzaldi, Leilani Hernandez, Ashwini Davison, Cynthia M. Boyd, Bruce Leff, Joe Kimura, and Jonathan P. Weiner. 2018. <span>“The <span>Value</span> of <span>Unstructured</span> <span>Electronic</span> <span>Health</span> <span>Record</span> <span>Data</span> in <span>Geriatric</span> <span>Syndrome</span> <span>Case</span> <span>Identification</span>.”</span> <em>Journal of the American Geriatrics Society</em> 66 (8): 1499–1507. <a href="https://doi.org/10.1111/jgs.15411">https://doi.org/10.1111/jgs.15411</a>.
</div>
<div id="ref-kohne10259" class="csl-entry" role="listitem">
Kohn, Martin S., Umit Topaloglu, Eric S. Kirkendall, Ajay Dharod, Brian J. Wells, and Metin Gurcan. 2022. <span>“Creating Learning Health Systems and the Emerging Role of Biomedical Informatics.”</span> <em>Learning Health Systems</em> 6 (1): e10259. <a href="https://doi.org/10.1002/lrh2.10259">https://doi.org/10.1002/lrh2.10259</a>.
</div>
<div id="ref-lyu839516" class="csl-entry" role="listitem">
Lyu, Jiahua, Anhui Shi, Tao Li, Jie Li, Ren Zhao, Shuchai Zhu, Jianhua Wang, et al. 2022. <span>“Effects of <span>Enteral</span> <span>Nutrition</span> on <span>Patients</span> <span>With</span> <span>Oesophageal</span> <span>Carcinoma</span> <span>Treated</span> <span>With</span> <span>Concurrent</span> <span>Chemoradiotherapy</span>: <span>A</span> <span>Prospective</span>, <span>Multicentre</span>, <span>Randomised</span>, <span>Controlled</span> <span>Study</span>.”</span> <em>Frontiers in Oncology</em> 12: 839516. <a href="https://doi.org/10.3389/fonc.2022.839516">https://doi.org/10.3389/fonc.2022.839516</a>.
</div>
<div id="ref-makiura430" class="csl-entry" role="listitem">
Makiura, Daisuke, Rei Ono, Junichiro Inoue, Miyuki Kashiwa, Taro Oshikiri, Tetsu Nakamura, Yoshihiro Kakeji, Yoshitada Sakai, and Yasushi Miura. 2016. <span>“Preoperative Sarcopenia Is a Predictor of Postoperative Pulmonary Complications in Esophageal Cancer Following Esophagectomy: <span>A</span> Retrospective Cohort Study.”</span> <em>Journal of Geriatric Oncology</em> 7 (6): 430–36. <a href="https://doi.org/10.1016/j.jgo.2016.07.003">https://doi.org/10.1016/j.jgo.2016.07.003</a>.
</div>
<div id="ref-mcgovern9" class="csl-entry" role="listitem">
McGovern, Josh, Alexander Grayston, Dominic Coates, Stephen Leadbitter, Adam Hounat, Paul G. Horgan, Ross D. Dolan, and Donald C. McMillan. 2023. <span>“The Relationship Between the Modified Frailty Index Score (<span class="nocase">mFI</span>-5), Malnutrition, Body Composition, Systemic Inflammation and Short-Term Clinical Outcomes in Patients Undergoing Surgery for Colorectal Cancer.”</span> <em>BMC Geriatrics</em> 23 (1): 9. <a href="https://doi.org/10.1186/s12877-022-03703-2">https://doi.org/10.1186/s12877-022-03703-2</a>.
</div>
<div id="ref-miller504" class="csl-entry" role="listitem">
Miller, Samuel M., J. Wolf, M. Katlic, C. R. D’Adamo, J. Coleman, and V. Ahuja. 2020. <span>“Frailty Is a Better Predictor Than Age for Outcomes in Geriatric Patients with Rectal Cancer Undergoing Proctectomy.”</span> <em>Surgery</em> 168 (3): 504–8. <a href="https://doi.org/10.1016/j.surg.2020.05.027">https://doi.org/10.1016/j.surg.2020.05.027</a>.
</div>
<div id="ref-mosquera272" class="csl-entry" role="listitem">
Mosquera, Catalina, Konstantinos Spaniolas, and Timothy L. Fitzgerald. 2016. <span>“Impact of Frailty on Surgical Outcomes: <span>The</span> Right Patient for the Right Procedure.”</span> <em>Surgery</em> 160 (2): 272–80. <a href="https://doi.org/10.1016/j.surg.2016.04.030">https://doi.org/10.1016/j.surg.2016.04.030</a>.
</div>
<div id="ref-orkaby1257" class="csl-entry" role="listitem">
Orkaby, Ariela R., Lisa Nussbaum, Yuk-Lam Ho, David Gagnon, Lien Quach, Rachel Ward, Rachel Quaden, et al. 2019. <span>“The <span>Burden</span> of <span>Frailty</span> <span>Among</span> <span>U</span>.<span>S</span>. <span>Veterans</span> and <span>Its</span> <span>Association</span> <span>With</span> <span>Mortality</span>, 2002-2012.”</span> <em>The Journals of Gerontology. Series A, Biological Sciences and Medical Sciences</em> 74 (8): 1257–64. <a href="https://doi.org/10.1093/gerona/gly232">https://doi.org/10.1093/gerona/gly232</a>.
</div>
<div id="ref-pajewski1771" class="csl-entry" role="listitem">
Pajewski, Nicholas M., Kristin Lenoir, Brian J. Wells, Jeff D. Williamson, and Kathryn E. Callahan. 2019. <span>“Frailty <span>Screening</span> <span>Using</span> the <span>Electronic</span> <span>Health</span> <span>Record</span> <span>Within</span> a <span>Medicare</span> <span>Accountable</span> <span>Care</span> <span>Organization</span>.”</span> <em>The Journals of Gerontology. Series A, Biological Sciences and Medical Sciences</em> 74 (11): 1771–77. <a href="https://doi.org/10.1093/gerona/glz017">https://doi.org/10.1093/gerona/glz017</a>.
</div>
<div id="ref-podsiadlo142" class="csl-entry" role="listitem">
Podsiadlo, D., and S. Richardson. 1991. <span>“The Timed "<span>Up</span> &amp; <span>Go</span>": A Test of Basic Functional Mobility for Frail Elderly Persons.”</span> <em>Journal of the American Geriatrics Society</em> 39 (2): 142–48. <a href="https://doi.org/10.1111/j.1532-5415.1991.tb01616.x">https://doi.org/10.1111/j.1532-5415.1991.tb01616.x</a>.
</div>
<div id="ref-rockwood722" class="csl-entry" role="listitem">
Rockwood, Kenneth, and Arnold Mitnitski. 2007. <span>“Frailty in Relation to the Accumulation of Deficits.”</span> <em>The Journals of Gerontology. Series A, Biological Sciences and Medical Sciences</em> 62 (7): 722–27. <a href="https://doi.org/10.1093/gerona/62.7.722">https://doi.org/10.1093/gerona/62.7.722</a>.
</div>
<div id="ref-shaoe31113" class="csl-entry" role="listitem">
Shao, Yifeng, Wei Cao, Xinliang Gao, Mingbo Tang, Dongshan Zhu, and Wei Liu. 2022. <span>“Pretreatment "Prognostic Nutritional Index" as an Indicator of Outcome in Lung Cancer Patients Receiving <span>ICI</span>-Based Treatment: <span>Systematic</span> Review and Meta-Analysis.”</span> <em>Medicine</em> 101 (43): e31113. <a href="https://doi.org/10.1097/MD.0000000000031113">https://doi.org/10.1097/MD.0000000000031113</a>.
</div>
<div id="ref-simon1363" class="csl-entry" role="listitem">
Simon, H. L., T. Reif de Paula, M. M. Profeta da Luz, S. K. Nemeth, S. J. Moug, and D. S. Keller. 2020. <span>“Frailty in Older Patients Undergoing Emergency Colorectal Surgery: <span>USA</span> <span>National</span> <span>Surgical</span> <span>Quality</span> <span>Improvement</span> <span>Program</span> Analysis.”</span> <em>The British Journal of Surgery</em> 107 (10): 1363–71. <a href="https://doi.org/10.1002/bjs.11770">https://doi.org/10.1002/bjs.11770</a>.
</div>
<div id="ref-studenski50" class="csl-entry" role="listitem">
Studenski, Stephanie, Subashan Perera, Kushang Patel, Caterina Rosano, Kimberly Faulkner, Marco Inzitari, Jennifer Brach, et al. 2011. <span>“Gait Speed and Survival in Older Adults.”</span> <em>JAMA</em> 305 (1): 50–58. <a href="https://doi.org/10.1001/jama.2010.1923">https://doi.org/10.1001/jama.2010.1923</a>.
</div>
<div id="ref-subramaniam17" class="csl-entry" role="listitem">
Subramaniam, Sneha. 2012. <span>“New 5-<span>Factor</span> <span>Modified</span> <span>Frailty</span> <span>Index</span> <span>Using</span> <span>American</span> <span>College</span> of <span>Surgeons</span> <span>NSQIP</span> <span>Data</span>,”</span> 17.
</div>
<div id="ref-sullivan1702" class="csl-entry" role="listitem">
Sullivan, Donald R., Benjamin Chan, Jodi A. Lapidus, Linda Ganzini, Lissi Hansen, Patricia A. Carney, Erik K. Fromme, et al. 2019. <span>“Association of <span>Early</span> <span>Palliative</span> <span>Care</span> <span>Use</span> <span>With</span> <span>Survival</span> and <span>Place</span> of <span>Death</span> <span>Among</span> <span>Patients</span> <span>With</span> <span>Advanced</span> <span>Lung</span> <span>Cancer</span> <span>Receiving</span> <span>Care</span> in the <span>Veterans</span> <span>Health</span> <span>Administration</span>.”</span> <em>JAMA Oncology</em> 5 (12): 1702–9. <a href="https://doi.org/10.1001/jamaoncol.2019.3105">https://doi.org/10.1001/jamaoncol.2019.3105</a>.
</div>
<div id="ref-wane721" class="csl-entry" role="listitem">
Wan, Michelle A., James M. Clark, Miriam Nuño, David T. Cooke, and Lisa M. Brown. 2022. <span>“Can the <span>Risk</span> <span>Analysis</span> <span>Index</span> for <span>Frailty</span> <span>Predict</span> <span>Morbidity</span> and <span>Mortality</span> in <span>Patients</span> <span>Undergoing</span> <span>High</span>-Risk <span>Surgery</span>?”</span> <em>Annals of Surgery</em> 276 (6): e721–27. <a href="https://doi.org/10.1097/SLA.0000000000004626">https://doi.org/10.1097/SLA.0000000000004626</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/gisurgonc\.github\.io\/talks\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>